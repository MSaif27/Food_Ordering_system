{% extends 'orders/base.html' %}

{% block title %}Order Confirmed | LPU Food System{% endblock %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-7">
      <div class="card p-4 text-center">
        <div style="font-size:4rem;" class="mb-3">✅</div>
        <h3 class="fw-bold text-success">Order Placed Successfully!</h3>
        <p class="text-muted">Your order has been received and is being prepared.</p>

        <div class="card bg-light p-3 my-4 text-start">
          <h6 class="fw-bold mb-3">Order Summary</h6>
          <p><strong>Order ID:</strong> #{{ order.id }}</p>
          <p><strong>Stall:</strong> {{ order.stall.name }}</p>
          <p><strong>Pickup Time:</strong> {{ order.time_slot.get_slot_time_display }}</p>
          <p><strong>Status:</strong>
            <span class="badge badge-status-{{ order.status }}">{{ order.get_status_display }}</span>
          </p>
          <hr>
          <h6 class="fw-bold">Items Ordered:</h6>
          {% for item in order.items.all %}
          <div class="d-flex justify-content-between">
            <span>{{ item.quantity }}x {{ item.food_item.name }}</span>
            <span class="text-muted">₹{{ item.subtotal }}</span>
          </div>
          {% endfor %}
          <hr>
          <div class="d-flex justify-content-between fw-bold text-success">
            <span>Total:</span>
            <span>₹{{ order.total_amount }}</span>
          </div>
        </div>

        {% if order.special_instructions %}
        <p class="text-muted small"><strong>Instructions:</strong> {{ order.special_instructions }}</p>
        {% endif %}

        <div class="d-flex gap-2 justify-content-center mt-3">
          <a href="{% url 'my_orders' %}" class="btn btn-primary">
            <i class="bi bi-bag me-2"></i>Track Orders
          </a>
          <a href="{% url 'menu' %}" class="btn btn-outline-secondary">
            <i class="bi bi-grid me-2"></i>Order More
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
